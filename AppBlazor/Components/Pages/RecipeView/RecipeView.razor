@page "/recipe-view/{RecipeId:int}"
@using Core.Entities
@rendermode InteractiveServer
@attribute [StreamRendering]
@using Microsoft.AspNetCore.Components.Authorization

<div class="container mt-4">

    <h2 class="text-center fw-bold mb-4">@RecipeName</h2>

    <div class="row">

        <div class="col-md-5 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-primary text-white fw-bold">
                    @L["Ingredients"]
                </div>

                <ul class="list-group list-group-flush">
                    @foreach (var ingredient in recipeIngredients)
                    {
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="fw-semibold">@ingredient.ingredient</span>
                            <span class="badge bg-secondary">
                                @ingredient.amount @ingredient.measure
                            </span>
                        </li>
                    }
                </ul>
            </div>
        </div>

        <div class="col-md-7 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-success text-white fw-bold">
                    @L["Steps"]
                </div>

                <ul class="list-group list-group-flush">
                    @foreach (var step in steps)
                    {
                        <li class="list-group-item">
                            <h5 class="fw-bold mb-1">@step.Name</h5>
                            <p class="mb-2 text-muted">@step.Description</p>

                            <div class="d-flex align-items-center gap-3">
                                <span class="badge bg-info text-dark">
                                     @L["Duration"]: @step.Duration m
                                </span>
                            </div>

                            @if (!string.IsNullOrEmpty(step.imageURL))
                            {
                                <img src="@step.imageURL"
                                     class="img-fluid rounded mt-3 shadow-sm"
                                     style="max-height:200px; object-fit:cover;"
                                     alt="@step.Name" />
                            }
                        </li>
                    }
                </ul>
            </div>
        </div>

    </div>
</div>
